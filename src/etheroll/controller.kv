#:import MDSeparator kivymd.card.MDSeparator
#:import MDList kivymd.list.MDList
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import MDBottomNavigation kivymd.tabs.MDBottomNavigation
#:import MDBottomNavigationItem kivymd.tabs.MDBottomNavigationItem
#:import MDTextField kivymd.textfields.MDTextField
#:import MDCheckbox kivymd.selectioncontrols.MDCheckbox
#:import MDSlider kivymd.slider.MDSlider
#:import Toolbar kivymd.toolbar.Toolbar
#:import AddressButton etheroll.addressbutton.AddressButton
#:import RollResultsScreen etheroll.roll_results.RollResultsScreen
#:import AboutScreen etheroll.about.AboutScreen
#:import CustomToolbar etheroll.customtoolbar.CustomToolbar
#:import RollScreen etheroll.roll.RollScreen
#:import SwitchAccountScreen etheroll.switchaccount.SwitchAccountScreen
#:import ROUND_DIGITS constants.ROUND_DIGITS


# need this hack to push widgets up
<PushUp@BoxLayout>:


<ImportKeystore>:
    orientation: 'vertical'
    MDLabel:
        halign: 'center'
        text: 'Copy it in to the keystore directory.\n%s' % root.keystore_path
    PushUp:


<SettingsScreen>:
    name: 'settings_screen'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            MDCheckbox:
                id: mainnet_checkbox_id
                group: 'network'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                active: True
                on_release:
                    print(root.network)
            MDLabel:
                text: 'Mainnet'
        BoxLayout:
            orientation: 'horizontal'
            MDCheckbox:
                id: testnet_checkbox_id
                group: 'network'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            MDLabel:
                text: 'Testnet'
        PushUp:


<Navigation@NavigationLayout>:
    MDNavigationDrawer:
        id: navigation_drawer_id
        NavigationDrawerToolbar:
            title: "Etheroll"
        NavigationDrawerIconButton:
            icon: "home"
            text: "Home"
            on_release:
                app.root.ids.screen_manager_id.transition.direction = "left"
                app.root.ids.screen_manager_id.current = "roll_screen"
        NavigationDrawerIconButton:
            icon: "format-list-bulleted"
            text: "Roll results"
            on_release:
                app.root.ids.screen_manager_id.transition.direction = "left"
                app.root.ids.screen_manager_id.current = "roll_results_screen"
        NavigationDrawerIconButton:
            icon: "key"
            text: "Wallet"
            on_release: app.root.load_switch_account()
        NavigationDrawerIconButton:
            icon: "settings"
            text: "Settings"
            on_release:
                app.root.ids.screen_manager_id.transition.direction = "right"
                app.root.ids.screen_manager_id.current = "settings_screen"
        NavigationDrawerIconButton:
            icon: "help"
            text: "About"
            on_release:
                app.root.ids.screen_manager_id.transition.direction = "right"
                app.root.ids.screen_manager_id.current = "about_screen"

<Controller>:
    Navigation:
        id: navigation_id
        BoxLayout:
            orientation: "vertical"
            CustomToolbar:
                id: toolbar_id
            ScreenManager:
                id: screen_manager_id
                RollScreen:
                    id: roll_screen_id
                    name: "roll_screen"
                RollResultsScreen:
                    id: roll_results_screen_id
                    name: "roll_results_screen"
                SwitchAccountScreen:
                    id: switch_account_screen_id
                    name: "switch_account_screen"
                SettingsScreen:
                    id: settings_screen_id
                    name: "settings_screen"
                AboutScreen:
                    id: about_screen_id
                    name: "about_screen"
